# dev-community-backend/src/test/resources/application.properties (수정)
# 이 파일은 테스트 실행 시 src/main/resources/application-prod.properties 설정을 오버라이드합니다.

# 1. H2 인메모리 데이터베이스 설정 (테스트용)
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# 2. JPA/Hibernate 설정 (H2 데이터베이스에 맞춤)
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# 3. 외부 서비스 비활성화 또는 더미 설정 (테스트 시 불필요한 연결 방지)
cloud.aws.s3.bucket=test-bucket
cloud.aws.s3.region=ap-northeast-2
cloud.aws.credentials.access-key=test
cloud.aws.credentials.secret-key=test

# 4. 세션 쿠키 보안 설정 (boolean 변환 오류 방지)
server.servlet.session.cookie.secure=false # <-- 이 줄을 추가 또는 명확히 설정